{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Loader/Loader.module.css","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services/pixabay-api.js","components/Searchbar/Searchbar.js","components/Modal/Modal.js","components/Button/Button.js","components/Loader/Loader.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","url","alt","src","className","s","ImageGalleryItem_image","ImageGallery","images","openModal","map","id","webformatURL","tags","largeImageURL","onClick","fetchData","searchQuery","currentPage","pageSize","axios","get","then","response","data","hits","Searchbar","state","value","handleNameChange","event","setState","currentTarget","toLowerCase","handleSubmit","preventDefault","trim","props","changeQuery","SearchForm","onSubmit","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","picsName","placeholder","onChange","Component","Modal","handleBackdropClick","target","code","closeModal","window","addEventListener","removeEventListener","Overlay","children","Button","buttonConteiner","Spinner","spinnerConteiner","color","height","width","App","isLoading","showModal","modalImg","modalAlt","error","onChangeQuery","query","fetchImages","options","prevState","scrollWindow","catch","finally","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","shouldRenderLoadMoreButton","length","style","textAlign","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.522afcbb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\",\"buttonConteiner\":\"Button_buttonConteiner__wvJrc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1C-z-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinnerConteiner\":\"Loader_spinnerConteiner__1wxmh\"};","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ url, alt }) => {\n  return <img src={url} alt={alt} className={s.ImageGalleryItem_image} />;\n};\n\nImageGalleryItem.propTypes = {\n  url: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, openModal }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(({ id, webformatURL, tags, largeImageURL }) => {\n        return (\n          <li\n            className={s.ImageGalleryItem}\n            key={id}\n            onClick={() => {\n              openModal(largeImageURL, tags);\n            }}\n          >\n            <ImageGalleryItem url={webformatURL} alt={tags} />\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n};\n\nexport default ImageGallery;\n","import axios from \"axios\";\n\nconst KEY = \"21185221-d49bba1554bfecf624305df2b\";\n\nconst fetchData = ({ searchQuery = \"\", currentPage = 1, pageSize = 12 }) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=${pageSize}`\n    )\n    .then((response) => response.data.hits);\n};\n\nexport default fetchData;\n","import { Component } from \"react\";\nimport s from \"./Searchbar.module.css\";\n\nexport default class Searchbar extends Component {\n  state = {\n    value: \"\",\n  };\n\n  handleNameChange = (event) => {\n    this.setState({ value: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    if (this.state.value.trim() === \"\") {\n      return;\n    }\n\n    this.props.changeQuery(this.state.value);\n    this.setState({ value: \"\" });\n  };\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            value={this.state.picsName}\n            placeholder=\"Search images and photos\"\n            onChange={this.handleNameChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\nexport default class Modal extends Component {\n  static propTypes = {\n    largeImg: PropTypes.string.isRequired,\n    closeModal: PropTypes.func.isRequired,\n  };\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleBackdropClick);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleBackdropClick);\n  }\n\n  handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target || event.code === \"Escape\") {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    return (\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import React from \"react\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <div className={s.buttonConteiner}>\n      <button type=\"button\" className={s.Button} onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport s from \"./Loader.module.css\";\n\nconst Spinner = () => {\n  return (\n    <div className={s.spinnerConteiner}>\n      <Loader type=\"Grid\" color=\"#00BFFF\" height={100} width={100} />\n    </div>\n  );\n};\n\nexport default Spinner;\n","import \"./App.css\";\nimport React, { Component } from \"react\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport fetchData from \"./services/pixabay-api\";\nimport SearchBar from \"./components/Searchbar\";\nimport Modal from \"./components/Modal\";\nimport Button from \"./components/Button\";\nimport Spinner from \"./components/Loader\";\n\nclass App extends Component {\n  state = {\n    searchQuery: \"\",\n    currentPage: 1,\n    images: [],\n    isLoading: false,\n    showModal: false,\n    modalImg: \"\",\n    modalAlt: \"\",\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    fetchData(options)\n      .then((images) => {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          currentPage: prevState.currentPage + 1,\n        }));\n        this.scrollWindow();\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  scrollWindow() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }\n\n  openModal = (url, alt) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      modalImg: url,\n      modalAlt: alt,\n    }));\n  };\n\n  closeModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      modalImg: \"\",\n      modalAlt: \"\",\n    }));\n  };\n\n  render() {\n    const { error, images, isLoading, showModal, modalImg, modalAlt } =\n      this.state;\n    const shouldRenderLoadMoreButton = images.length > 0 && !isLoading;\n\n    return (\n      <>\n        <SearchBar changeQuery={this.onChangeQuery} />\n        {error && (\n          <h1 style={{ color: \"#ff0000\", textAlign: \"center\" }}>\n            Something going wrong\n          </h1>\n        )}\n        <ImageGallery images={images} openModal={this.openModal} />\n        {isLoading && <Spinner />}\n        {shouldRenderLoadMoreButton && <Button onClick={this.fetchImages} />}\n        {showModal && (\n          <Modal closeModal={this.closeModal}>\n            <img src={modalImg} alt={modalAlt} />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};"],"sourceRoot":""}