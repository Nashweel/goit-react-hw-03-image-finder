{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Loader/Loader.module.css","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services/pixabay-api.js","components/Searchbar/Searchbar.js","components/Modal/Modal.js","components/Button/Button.js","components/Loader/Loader.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","url","alt","src","className","s","ImageGalleryItem_image","ImageGallery","images","openModal","map","id","webformatURL","tags","largeImageURL","onClick","axios","defaults","baseURL","params","key","image_type","orientation","per_page","fetchPixabayImage","currentPage","query","get","q","page","then","response","data","hits","propTypes","searchQuery","PropTypes","string","isRequired","number","Searchbar","state","value","handleNameChange","event","setState","target","toLowerCase","handleSubmit","preventDefault","trim","props","changeQuery","SearchForm","onSubmit","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","Modal","handleBackdropClick","currentTarget","code","closeModal","window","addEventListener","removeEventListener","Overlay","children","Button","buttonConteiner","Spinner","spinnerConteiner","color","height","width","App","isLoading","showModal","modalImg","modalAlt","error","found","onChangeQuery","fetchImages","console","log","fetchImage","length","prevState","catch","finally","scrollHeight","document","documentElement","scrollTo","top","behavior","prevProps","scrollTop","clientHeight","style","textAlign","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.04fd528d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\",\"buttonConteiner\":\"Button_buttonConteiner__wvJrc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__1C-z-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinnerConteiner\":\"Loader_spinnerConteiner__1wxmh\"};","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ url, alt }) => {\n  return <img src={url} alt={alt} className={s.ImageGalleryItem_image} />;\n};\n\nImageGalleryItem.propTypes = {\n  url: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGallery.module.css\";\n\nconst ImageGallery = ({ images, openModal }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(({ id, webformatURL, tags, largeImageURL }) => {\n        return (\n          <li\n            className={s.ImageGalleryItem}\n            key={id}\n            onClick={() => {\n              openModal(largeImageURL, tags);\n            }}\n          >\n            <ImageGalleryItem url={webformatURL} alt={tags} />\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n};\n\nexport default ImageGallery;\n","import axios from \"axios\";\nimport PropTypes from \"prop-types\";\n\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\naxios.defaults.params = {\n  key: \"22063861-3c05c462599ae9ace4c5aa6eb\",\n  image_type: \"photo\",\n  orientation: \"horizontal\",\n  per_page: 12,\n};\nconst fetchPixabayImage = (currentPage, query) => {\n  return axios\n    .get(\"\", {\n      params: {\n        q: query,\n        page: currentPage,\n      },\n    })\n    .then((response) => response.data.hits);\n};\n\n// const KEY = \"22063861-3c05c462599ae9ace4c5aa6eb\";\n\n// const fetchData = async ({\n//   searchQuery = \"\",\n//   currentPage = 1,\n//   pageSize = 12,\n//   q: query,\n//   page,\n// }) => {\n//   return await axios\n//     .get(\n//       `${baseURL}?q=${params.q}&page=${currentPage}&key=${key}&image_type=photo&orientation=horizontal&per_page=${pageSize}`\n//     )\n//     .then((response) => response.data.hits);\n// };\n\n// export default fetchData;\n\n// fetchPixabayImage.propTypes = {\n//   searchQuery: PropTypes.string.isRequired,\n//   page: PropTypes.number.isRequired,\n// };\n\n// export default fetchPixabayImage;\n// ========================================================================\n\n// const KEY = \"22063861-3c05c462599ae9ace4c5aa6eb\";\n// const BASE_URL = \"https://pixabay.com/api/\";\n\n// const fetchPixabayImage = ({ searchQuery = \"\", page = 1 }) => {\n//   return fetch(\n//     `${BASE_URL}?q=${searchQuery}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`\n//   ).then((response) => response.data.hits);\n// };\n\nfetchPixabayImage.propTypes = {\n  searchQuery: PropTypes.string.isRequired,\n  page: PropTypes.number.isRequired,\n};\n\nexport default fetchPixabayImage;\n","import { Component } from \"react\";\nimport s from \"./Searchbar.module.css\";\n\nexport default class Searchbar extends Component {\n  state = {\n    value: \"\",\n  };\n\n  handleNameChange = (event) => {\n    this.setState({ value: event.target.value.toLowerCase() });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    if (this.state.value.trim() === \"\") {\n      return;\n    }\n\n    this.props.changeQuery(this.state.value);\n    this.setState({ value: \"\" });\n  };\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            value={this.state.value}\n            placeholder=\"Search images and photos\"\n            onChange={this.handleNameChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\nexport default class Modal extends Component {\n  static propTypes = {\n    largeImg: PropTypes.string.isRequired,\n    closeModal: PropTypes.func.isRequired,\n  };\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleBackdropClick);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleBackdropClick);\n  }\n\n  handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target || event.code === \"Escape\") {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    return (\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import React from \"react\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ onClick }) => {\n  return (\n    <div className={s.buttonConteiner}>\n      <button type=\"button\" className={s.Button} onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport s from \"./Loader.module.css\";\n\nconst Spinner = () => {\n  return (\n    <div className={s.spinnerConteiner}>\n      <Loader type=\"Grid\" color=\"#00BFFF\" height={100} width={100} />\n    </div>\n  );\n};\n\nexport default Spinner;\n","import \"./App.css\";\nimport React, { Component } from \"react\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport fetchImage from \"./services/pixabay-api\";\nimport SearchBar from \"./components/Searchbar\";\nimport Modal from \"./components/Modal\";\nimport Button from \"./components/Button\";\nimport Spinner from \"./components/Loader\";\n\nclass App extends Component {\n  state = {\n    searchQuery: \"\",\n    currentPage: 1,\n    images: [],\n    isLoading: false,\n    showModal: false,\n    modalImg: \"\",\n    modalAlt: \"\",\n    error: null,\n    found: true,\n  };\n\n  componentDidMount() {}\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.page > 2) {\n      const { scrollTop, clientHeight } = document.documentElement;\n      window.scrollTo({\n        top: scrollTop + clientHeight - 165,\n        behavior: \"smooth\",\n      });\n    }\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n    if (prevQuery !== nextQuery) {\n      this.fetchImages();\n    }\n  }\n\n  onChangeQuery = (query) => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n    });\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n\n    console.log(this.state);\n\n    this.setState({ isLoading: true });\n\n    fetchImage(currentPage, searchQuery)\n      .then((images) => {\n        if (images.length === 0) {\n          this.setState({ found: false });\n        } else {\n          this.setState((prevState) => ({\n            images: [...prevState.images, ...images],\n            currentPage: prevState.currentPage + 1,\n            found: true,\n          }));\n        }\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n    if (currentPage > 1) {\n      const { scrollHeight } = document.documentElement;\n      window.scrollTo({\n        top: scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  };\n\n  scrollWindow() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  }\n\n  openModal = (url, alt) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      modalImg: url,\n      modalAlt: alt,\n    }));\n  };\n\n  closeModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      modalImg: \"\",\n      modalAlt: \"\",\n    }));\n  };\n\n  render() {\n    const { error, images, isLoading, showModal, modalImg, modalAlt, found } =\n      this.state;\n    // const shouldRenderLoadMoreButton = images.length > 0 && !isLoading && found;\n\n    return (\n      <>\n        <SearchBar changeQuery={this.onChangeQuery} />\n        {(error || !found) && !images.length && (\n          <h1 style={{ color: \"#ff0000\", textAlign: \"center\" }}>\n            Ooops! Something going wrong...\n          </h1>\n        )}\n        <ImageGallery images={images} openModal={this.openModal} />\n        {isLoading && <Spinner />}\n        {images.length > 0 && !isLoading && found && (\n          <Button onClick={this.fetchImages} />\n        )}\n        {showModal && (\n          <Modal closeModal={this.closeModal}>\n            <img src={modalImg} alt={modalAlt} />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};"],"sourceRoot":""}